<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="description" content="IT技術を中心としたブログ"/><meta property="og:image" content="https://github.com/chaya2z/chaya2z.github.io/blob/gh-pages/main_ogp.png?raw=true"/><meta name="og:title" content="海底タランテラ"/><meta name="twitter:card" content="summary_large_image"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous"/><title>OSSに初めてコントリビュートした話</title><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/04a7f9b5f46e743e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/04a7f9b5f46e743e.css" data-n-g=""/><link rel="preload" href="/_next/static/css/0ad87472260d4bb9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0ad87472260d4bb9.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-062c35b1bbcb9ed2.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5508371544ba549e.js" defer=""></script><script src="/_next/static/chunks/395-04da106b08c8ce64.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Byear%5D/%5Bmonth%5D/%5Bdate%5D/%5Bid%5D-8e53c95a25f74456.js" defer=""></script><script src="/_next/static/lIIJrsbfOgkDtMlE744dQ/_buildManifest.js" defer=""></script><script src="/_next/static/lIIJrsbfOgkDtMlE744dQ/_ssgManifest.js" defer=""></script><script src="/_next/static/lIIJrsbfOgkDtMlE744dQ/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header><div class="header_container__xYHxC"><h1>海底タランテラ</h1></div><div class="navbar_container__whdC7"><a class="navbar_item__jtENX" href="/">Home</a><a class="navbar_item__jtENX" href="/posts/">Posts</a><a class="navbar_item__jtENX" href="/about/">About</a></div></header><div class="layout_container__fbLkO"><main><article><h1 class="utils_headingXl__u25Y2">OSSに初めてコントリビュートした話</h1><div class="utils_lightText__eUzGY"><time dateTime="2021-12-06">December 6, 2021</time></div><div><p>この記事は <a href="https://adventar.org/calendars/6368">ITRC Advent Calendar 2021</a> の6日目の記事です．</p>
<p>前の記事は <a href="https://twitter.com/gamoutatsumi">@waka</a> の <a href="https://zenn.dev/gamoutatsumi/articles/26745357cffa44">最近のVim事情</a> です．</p>
<h2 id="はじめに">はじめに</h2>
<p>OSS に初めてコントリビュートしたので，その内容と考えたことを書きます．コントリビュートしたのは VyOS です．コントリビュートの内容は後述しますが，大したことはないのでその内容には期待しないでください．</p>
<h2 id="pr">PR</h2>
<p>私の出した PR はこちらになります．</p>
<p><a href="https://github.com/vyos/vyatta-cfg-system/pull/170">https://github.com/vyos/vyatta-cfg-system/pull/170</a></p>
<p><code>$</code> がエスケープされず変数としてみなされている部分があったのでそこをエスケープしました．</p>
<h2 id="どうやってバグを見つけたか">どうやってバグを見つけたか</h2>
<p>VyOS を使っていたらエラーが出たのでそれでバグに気づきました．</p>
<p>出力されたエラーは次のものです．</p>
<pre style="background: #2e3440"><code style="color: undefined">Global symbol "$generate" requires explicit package name (did you forget to declare "my $generate"?) at /opt/vyatta/sbin/vyatta-load-user-key.pl line 162.
Execution of /opt/vyatta/sbin/vyatta-load-user-key.pl aborted due to compilation errors.
[edit]
</code></pre>
<p>エラーに <code>/opt/vyatta/sbin/vyatta-load-user-key.pl</code> の 162 行目の <code>"$generate"</code> がおかしいというようなことが書かれているのでそのとおりコードを確認しました．</p>
<h2 id="oss-にコントリビュートするには">OSS にコントリビュートするには</h2>
<p>これを読んだ方は「これくらいの修正なら自分でもできそう」と思ったのではないでしょうか．以下はこのようなレベルのバグが他の OSS にもある前提で書きます．</p>
<p>まずはコントリビュートしたい OSS の最新版を使いましょう．このような比較的修正の簡単なバグはおそらく安定版にはありません．今回の PR も最新版に対して出したものです．最新版 ( いわば不安定版 ) のソフトを使うというのは OSS に貢献したいのなら当たり前かもしれませんが，実際には意識しないとやらないことだと思います．</p>
<p>あとは英語を拒絶しないことです ( これは意外に思う方もいるかもしれませんが，英語のページだとわかった瞬間ブラウザバック刷る人もいるようです )．私は英語が苦手なので DeepL や辞書を頼りました．</p>
<h2 id="さいごに">さいごに</h2>
<p>この記事が OSS のコントリビュートのきっかけになる方がいれば幸いです．</p></div></article></main><div class="layout_backToHome__9sjx_"><a href="/">← Back to home</a></div></div><div class="footer_container__LsEE4"><small>© 海底タランテラ chaya2z</small><div class="footer_text__veFtv">Powered by GitHub Pages</div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"post01","year":"2021","month":"12","date":"06","contentHtml":"\u003cp\u003eこの記事は \u003ca href=\"https://adventar.org/calendars/6368\"\u003eITRC Advent Calendar 2021\u003c/a\u003e の6日目の記事です．\u003c/p\u003e\n\u003cp\u003e前の記事は \u003ca href=\"https://twitter.com/gamoutatsumi\"\u003e@waka\u003c/a\u003e の \u003ca href=\"https://zenn.dev/gamoutatsumi/articles/26745357cffa44\"\u003e最近のVim事情\u003c/a\u003e です．\u003c/p\u003e\n\u003ch2 id=\"はじめに\"\u003eはじめに\u003c/h2\u003e\n\u003cp\u003eOSS に初めてコントリビュートしたので，その内容と考えたことを書きます．コントリビュートしたのは VyOS です．コントリビュートの内容は後述しますが，大したことはないのでその内容には期待しないでください．\u003c/p\u003e\n\u003ch2 id=\"pr\"\u003ePR\u003c/h2\u003e\n\u003cp\u003e私の出した PR はこちらになります．\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/vyos/vyatta-cfg-system/pull/170\"\u003ehttps://github.com/vyos/vyatta-cfg-system/pull/170\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e$\u003c/code\u003e がエスケープされず変数としてみなされている部分があったのでそこをエスケープしました．\u003c/p\u003e\n\u003ch2 id=\"どうやってバグを見つけたか\"\u003eどうやってバグを見つけたか\u003c/h2\u003e\n\u003cp\u003eVyOS を使っていたらエラーが出たのでそれでバグに気づきました．\u003c/p\u003e\n\u003cp\u003e出力されたエラーは次のものです．\u003c/p\u003e\n\u003cpre style=\"background: #2e3440\"\u003e\u003ccode style=\"color: undefined\"\u003eGlobal symbol \"$generate\" requires explicit package name (did you forget to declare \"my $generate\"?) at /opt/vyatta/sbin/vyatta-load-user-key.pl line 162.\nExecution of /opt/vyatta/sbin/vyatta-load-user-key.pl aborted due to compilation errors.\n[edit]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eエラーに \u003ccode\u003e/opt/vyatta/sbin/vyatta-load-user-key.pl\u003c/code\u003e の 162 行目の \u003ccode\u003e\"$generate\"\u003c/code\u003e がおかしいというようなことが書かれているのでそのとおりコードを確認しました．\u003c/p\u003e\n\u003ch2 id=\"oss-にコントリビュートするには\"\u003eOSS にコントリビュートするには\u003c/h2\u003e\n\u003cp\u003eこれを読んだ方は「これくらいの修正なら自分でもできそう」と思ったのではないでしょうか．以下はこのようなレベルのバグが他の OSS にもある前提で書きます．\u003c/p\u003e\n\u003cp\u003eまずはコントリビュートしたい OSS の最新版を使いましょう．このような比較的修正の簡単なバグはおそらく安定版にはありません．今回の PR も最新版に対して出したものです．最新版 ( いわば不安定版 ) のソフトを使うというのは OSS に貢献したいのなら当たり前かもしれませんが，実際には意識しないとやらないことだと思います．\u003c/p\u003e\n\u003cp\u003eあとは英語を拒絶しないことです ( これは意外に思う方もいるかもしれませんが，英語のページだとわかった瞬間ブラウザバック刷る人もいるようです )．私は英語が苦手なので DeepL や辞書を頼りました．\u003c/p\u003e\n\u003ch2 id=\"さいごに\"\u003eさいごに\u003c/h2\u003e\n\u003cp\u003eこの記事が OSS のコントリビュートのきっかけになる方がいれば幸いです．\u003c/p\u003e","title":"OSSに初めてコントリビュートした話","created_at":"2021-12-06"}},"__N_SSG":true},"page":"/posts/[year]/[month]/[date]/[id]","query":{"year":"2021","month":"12","date":"06","id":"post01"},"buildId":"lIIJrsbfOgkDtMlE744dQ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>