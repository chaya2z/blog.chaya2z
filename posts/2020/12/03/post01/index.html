<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="description" content="IT技術を中心としたブログ"/><meta property="og:image" content="https://github.com/chaya2z/chaya2z.github.io/blob/gh-pages/main_ogp.png?raw=true"/><meta name="og:title" content="海底タランテラ"/><meta name="twitter:card" content="summary_large_image"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous"/><title>eBPF入門する</title><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/04a7f9b5f46e743e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/04a7f9b5f46e743e.css" data-n-g=""/><link rel="preload" href="/_next/static/css/0ad87472260d4bb9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0ad87472260d4bb9.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-062c35b1bbcb9ed2.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5508371544ba549e.js" defer=""></script><script src="/_next/static/chunks/395-04da106b08c8ce64.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Byear%5D/%5Bmonth%5D/%5Bdate%5D/%5Bid%5D-8e53c95a25f74456.js" defer=""></script><script src="/_next/static/IBghKQTQl9mexBDzGCP1b/_buildManifest.js" defer=""></script><script src="/_next/static/IBghKQTQl9mexBDzGCP1b/_ssgManifest.js" defer=""></script><script src="/_next/static/IBghKQTQl9mexBDzGCP1b/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header><div class="header_container__xYHxC"><h1>海底タランテラ</h1></div><div class="navbar_container__whdC7"><a class="navbar_item__jtENX" href="/">Home</a><a class="navbar_item__jtENX" href="/posts/">Posts</a><a class="navbar_item__jtENX" href="/about/">About</a></div></header><div class="layout_container__fbLkO"><main><article><h1 class="utils_headingXl__u25Y2">eBPF入門する</h1><div class="utils_lightText__eUzGY"><time dateTime="2020-12-03">December 3, 2020</time></div><div><p>この記事は<a href="https://adventar.org/calendars/5535">ITRC Advent Calendar 2020</a> の 3 日目の記事です．</p>
<p>前の記事は<a href="https://twitter.com/site0801">@site0801</a> の <a href="https://www.notion.so/nested-73404cdaa2864d95895969c25b5eaf3e">nested 対応してるクラウド事業者リスト</a> です．</p>
<p>次の記事は<a href="https://twitter.com/bluekey0725">@bluekey0725</a> の <a href="https://qiita.com/blue_key/items/82facd82e9383c711534">TUN モジュールによる Docker のロードエラーと linux カーネル</a> です．</p>
<h2 id="目次">目次</h2>
<ul>
<li><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB">はじめに</a></li>
<li><a href="#%E7%92%B0%E5%A2%83">環境</a></li>
<li><a href="#%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8">やること</a></li>
<li><a href="#%E7%B5%90%E6%9E%9C">結果</a></li>
</ul>
<h2 id="はじめに">はじめに</h2>
<p>この記事は 2020/10/28 - 29 に開催された、eBPF summit の Day 1 の「A Beginner’s Guide to eBPF Programming」の内容を受けて書いています．</p>
<p>eBPF summit の内容は公開されています．</p>
<ul>
<li><a href="https://ebpf.io/summit-2020/">https://ebpf.io/summit-2020/</a></li>
</ul>
<p>実際に自分の環境で公開されているコードを実行してみました．</p>
<h2 id="環境">環境</h2>
<ul>
<li>OS: Gnu/Linux Ubuntu20.04</li>
<li>Python: 3.8</li>
</ul>
<p>ソースコードはプレゼンを行った lizrice 氏の GitHub にて公開されています．それを使わせていただきました．<br>
<a href="https://github.com/lizrice/ebpf-beginners">https://github.com/lizrice/ebpf-beginners</a></p>
<h2 id="やること">やること</h2>
<p>clone システムコールの監視を行います．</p>
<p>ターミナルを２つ開き，１つのターミナルで監視するプログラムを実行，もう１つのターミナルで<code>ls</code>コマンドを実行し、clone システムコールを発行します．</p>
<h2 id="結果">結果</h2>
<p>ID 0 が追加されたところが，root ユーザで<code>ls</code>コマンドを実行したところです．</p>
<pre style="background: #2e3440"><code style="color: undefined">$ sudo python3 ebpf.py
No entries yet
No entries yet
ID 1000: 1
ID 1000: 1
ID 1000: 1
ID 1000: 1
ID 1000: 2
ID 1000: 2	ID 0: 1
ID 1000: 2	ID 0: 1
ID 1000: 2	ID 0: 1
ID 1000: 2	ID 0: 1
ID 1000: 3	ID 0: 1
ID 1000: 6	ID 0: 1
ID 1000: 7	ID 0: 1
</code></pre></div></article></main><div class="layout_backToHome__9sjx_"><a href="/">← Back to home</a></div></div><div class="footer_container__LsEE4"><small>© 海底タランテラ chaya2z</small><div class="footer_text__veFtv">Powered by GitHub Pages</div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"post01","year":"2020","month":"12","date":"03","contentHtml":"\u003cp\u003eこの記事は\u003ca href=\"https://adventar.org/calendars/5535\"\u003eITRC Advent Calendar 2020\u003c/a\u003e の 3 日目の記事です．\u003c/p\u003e\n\u003cp\u003e前の記事は\u003ca href=\"https://twitter.com/site0801\"\u003e@site0801\u003c/a\u003e の \u003ca href=\"https://www.notion.so/nested-73404cdaa2864d95895969c25b5eaf3e\"\u003enested 対応してるクラウド事業者リスト\u003c/a\u003e です．\u003c/p\u003e\n\u003cp\u003e次の記事は\u003ca href=\"https://twitter.com/bluekey0725\"\u003e@bluekey0725\u003c/a\u003e の \u003ca href=\"https://qiita.com/blue_key/items/82facd82e9383c711534\"\u003eTUN モジュールによる Docker のロードエラーと linux カーネル\u003c/a\u003e です．\u003c/p\u003e\n\u003ch2 id=\"目次\"\u003e目次\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e環境\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8\"\u003eやること\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C\"\u003e結果\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"はじめに\"\u003eはじめに\u003c/h2\u003e\n\u003cp\u003eこの記事は 2020/10/28 - 29 に開催された、eBPF summit の Day 1 の「A Beginner’s Guide to eBPF Programming」の内容を受けて書いています．\u003c/p\u003e\n\u003cp\u003eeBPF summit の内容は公開されています．\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://ebpf.io/summit-2020/\"\u003ehttps://ebpf.io/summit-2020/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e実際に自分の環境で公開されているコードを実行してみました．\u003c/p\u003e\n\u003ch2 id=\"環境\"\u003e環境\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eOS: Gnu/Linux Ubuntu20.04\u003c/li\u003e\n\u003cli\u003ePython: 3.8\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eソースコードはプレゼンを行った lizrice 氏の GitHub にて公開されています．それを使わせていただきました．\u003cbr\u003e\n\u003ca href=\"https://github.com/lizrice/ebpf-beginners\"\u003ehttps://github.com/lizrice/ebpf-beginners\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"やること\"\u003eやること\u003c/h2\u003e\n\u003cp\u003eclone システムコールの監視を行います．\u003c/p\u003e\n\u003cp\u003eターミナルを２つ開き，１つのターミナルで監視するプログラムを実行，もう１つのターミナルで\u003ccode\u003els\u003c/code\u003eコマンドを実行し、clone システムコールを発行します．\u003c/p\u003e\n\u003ch2 id=\"結果\"\u003e結果\u003c/h2\u003e\n\u003cp\u003eID 0 が追加されたところが，root ユーザで\u003ccode\u003els\u003c/code\u003eコマンドを実行したところです．\u003c/p\u003e\n\u003cpre style=\"background: #2e3440\"\u003e\u003ccode style=\"color: undefined\"\u003e$ sudo python3 ebpf.py\nNo entries yet\nNo entries yet\nID 1000: 1\nID 1000: 1\nID 1000: 1\nID 1000: 1\nID 1000: 2\nID 1000: 2\tID 0: 1\nID 1000: 2\tID 0: 1\nID 1000: 2\tID 0: 1\nID 1000: 2\tID 0: 1\nID 1000: 3\tID 0: 1\nID 1000: 6\tID 0: 1\nID 1000: 7\tID 0: 1\n\u003c/code\u003e\u003c/pre\u003e","title":"eBPF入門する","created_at":"2020-12-03"}},"__N_SSG":true},"page":"/posts/[year]/[month]/[date]/[id]","query":{"year":"2020","month":"12","date":"03","id":"post01"},"buildId":"IBghKQTQl9mexBDzGCP1b","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>